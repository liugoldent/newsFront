import{l as T,E as F,G as W,_ as V,c as j,d as x,o as n,a as c,F as N,r as S,b as t,n as d,t as g,C as L,g as _,e as y,H,I as O,J,K as P,j as E,k as h,m as M,q,T as G,L as K}from"./index.26bbc54e.js";import{S as D,R as Q}from"./ScrollTopButton.90706007.js";import{l as U}from"./lodash.194d3cb6.js";T.add(F,W);const X={props:["newsData"],setup(f){let i=H.textColor,m=O.textColor;for(let u=0,o=2;u<o;u++)i=i.concat(i),m=m.concat(m);const e=j(()=>f.newsData),p=j(()=>{let u=[];for(let o=1,s=f.newsData.length;o<=s;o++)o<10?u.push(`0${o}`):u.push(o);return u});return{onViewData:e,listIndex:p,textColor600Array:m,textColor700Array:i}}},Y={class:"flex flex-col justify-center items-center m-10"},Z={class:"flex flex-col justify-start items-start"},$={class:"flex flex-row justify-start items-end"},ee={class:"sm:flex sm:flex-col sm:items-start sm:justify-center mx-1"},te={key:0,class:"flex flex-row justify-start items-center mx-2"},se={key:1,class:"flex flex-row justify-start items-center mx-2"},oe={class:"text-4xl inline mb-2"},le=["href"];function ne(f,i,m,e,p,u){const o=x("font-awesome-icon");return n(),c("div",Y,[(n(!0),c(N,null,S(e.onViewData,(s,r)=>(n(),c("div",{key:r,class:"w-4/5 m-6 h-max"},[t("div",Z,[t("div",$,[t("p",{class:d(["text-6xl inline mb-4 decoration-4 text-right underline underline-offset-4",e.textColor700Array[r]])},g(e.listIndex[r]),3),t("div",ee,[s.date?(n(),c("div",te,[s.date.length>0?(n(),L(o,{key:0,icon:"clock-rotate-left",class:d(["relative bottom-2",e.textColor600Array[r]])},null,8,["class"])):_("",!0),s.date.length>0?(n(),c("p",{key:1,class:d(["text-xl inline mx-2 relative bottom-2",e.textColor600Array[r]])},g(s.date),3)):_("",!0)])):_("",!0),Object.keys(s).includes("pushCount")?(n(),c("div",se,[y(o,{icon:"angles-right",class:d(["relative bottom-2",e.textColor600Array[r]])},null,8,["class"]),t("p",{class:d(["text-xl inline mx-2 relative bottom-2",e.textColor600Array[r]])},g(parseInt(s.pushCount)>99?"\u7206":parseInt(s.pushCount)),3)])):_("",!0)])]),t("h1",oe,[t("a",{href:s.url},g(s.title),9,le)])])]))),128))])}var ae=V(X,[["render",ne]]);T.add(J,P);const ie={components:{StockNewsListVue:ae,ScrollTopButton:D,RectangleNameVue:Q},setup(){const{proxy:f}=E(),i=[{name:"yahoo \u570B\u969B\u65B0\u805E",source:"yahoo",link:"https://tw.stock.yahoo.com/intl-markets",apiRoute:"yahooIntl"},{name:"yahoo \u53F0\u80A1\u76E4\u52E2",source:"yahoo",link:"https://tw.stock.yahoo.com/tw-market",apiRoute:"yahooTwMarket"},{name:"yahoo \u91CD\u9EDE\u8981\u805E",source:"yahoo",link:"https://tw.stock.yahoo.com/news/",apiRoute:"yahooNews"},{name:" ptt -  Stock \u7248",source:"ptt\u80A1\u7248",link:"https://www.ptt.cc/bbs/Stock/index.html",apiRoute:"pttStock"},{name:"\u9245\u4EA8 - \u6700\u65B0\u65B0\u805E",source:"\u9245\u4EA8\u7DB2",link:"https://news.cnyes.com/news/cat/headline",apiRoute:"cnyes"},{name:"\u5DE5\u5546\u6642\u5831",source:"\u5DE5\u5546\u6642\u5831",link:"https://news.cnyes.com/news/cat/headline",apiRoute:"liveNews"}],m={hot:{name:"\u7206",pushCount:99},lg:{name:"> 75",pushCount:75},md:{name:"> 50",pushCount:50},sm:{name:"> 25",pushCount:25},cancel:{name:"\u53D6\u6D88",pushCount:0}};let e=h(!0);M(async()=>{try{e.value=!0}catch(l){console.error(l)}finally{e.value=!1}});let p=h(""),u=h(""),o=h(""),s=h([]),r=[],v={};const k=async function(l){try{const{apiRoute:w}=l,{data:C}=await f.axios.post(`http://127.0.0.1:8000/stock/news/${w}`);p.value=l.name,u.value=l.link,o.value=l.apiRoute,s.value=C,r=C,v=l}catch(w){console.error(w.message)}finally{e.value=!1}},a=U.exports.debounce(l=>{e.value=!0,k(l)},500),b=async function(){try{e.value=!0;const{status:l}=await f.axios.post("http://127.0.0.1:8000/stock/news/");l===200&&(e.value=!1,Object.keys(v).length>0&&await k(v))}catch(l){console.error(l.message)}finally{e.value=!1}};let R=h(window.innerWidth<1200);const A=q("rectangleColor");let I=h("");return{pushFilterList:m,filterPttList:function(l){try{const w=JSON.parse(JSON.stringify(r)),C=m[l],z=w.filter(B=>parseInt(B.pushCount)>C.pushCount);s.value=z}catch(w){console.error(w.message)}},filterScale:I,titleName:p,titleHref:u,webType:i,newsListInChild:s,thisTimeSelectKey:o,toggleNewsWeb:R,loadingStatus:e,rectangleColor:A,selectNewsNameToList:k,debounceSelectNewsNameToList:a,updateNewsList:b}}},re={class:"flex flex-col justify-start items-center w-full"},ce={class:"flex flex-col items-end"},ue=["onClick"],de={class:"flex flex-row items-end"},me=t("span",{class:"mx-auto"},"\u66F4\u65B0\u8CC7\u6599\u5EAB",-1),fe=[me],we={key:0,class:"fixed left-2 top-28 w-auto h-auto rounded opacity-80 flex flex-col items-start justify-center z-10 bg-slate-400"},he=["onClick"],_e={class:"sm:visible md:visible invisible"};function pe(f,i,m,e,p,u){const o=x("font-awesome-icon"),s=x("StockNewsListVue"),r=x("RectangleNameVue"),v=x("ScrollTopButton"),k=x("loading-view");return n(),c(N,null,[t("main",re,[t("div",{class:d(["flex flex-row justify-center items-center fixed right-0 z-30",{"z-0":e.loadingStatus}])},[e.loadingStatus?_("",!0):(n(),L(o,{key:0,icon:"circle-arrow-left",class:d(["text-3xl cursor-pointer relative -right-8 z-20 duration-500 rounded-full bg-red-100",{"rotate-180 ":!e.toggleNewsWeb,"translate-x-44":e.toggleNewsWeb}]),onClick:i[0]||(i[0]=a=>e.toggleNewsWeb=!e.toggleNewsWeb)},null,8,["class"])),t("div",{class:d(["flex flex-col justify-end items-center m-4 bg-slate-400/30 z-10 rounded opacity-90 w-48 duration-500",{"translate-x-44":e.toggleNewsWeb}])},[t("div",ce,[(n(!0),c(N,null,S(e.webType,a=>(n(),c("button",{onClick:b=>e.debounceSelectNewsNameToList(a),key:a.apiRoute,class:"m-2"},[t("template",de,[a.apiRoute===e.thisTimeSelectKey?(n(),L(o,{key:0,icon:"newspaper",class:"mx-3"})):_("",!0),t("div",null,[t("p",{class:d(["inline",{"underline underline-offset-4":a.apiRoute===e.thisTimeSelectKey}])},g(a.name),3)])])],8,ue))),128))]),t("button",{onClick:i[1]||(i[1]=(...a)=>e.updateNewsList&&e.updateNewsList(...a)),class:"relative top-5 w-100 bg-white tracking-wide text-gray-800 font-bold rounded border-b-2 border-blue-500 hover:border-blue-600 hover:bg-blue-500 hover:text-white shadow-md py-2 px-6 inline-flex items-center"},fe)],2)],2),y(G,null,{default:K(()=>[e.thisTimeSelectKey.includes("ptt")?(n(),c("div",we,[(n(!0),c(N,null,S(Object.keys(e.pushFilterList),(a,b)=>(n(),c("button",{key:b,onClick:R=>e.filterPttList(a),class:"p-2"},[t("p",{class:d({"text-red-700":e.filterScale===a&&e.filterScale!=="cancel"})},g(e.pushFilterList[a].name),3)],8,he))),128))])):_("",!0)]),_:1}),y(s,{newsData:e.newsListInChild,class:"z-0"},null,8,["newsData"]),t("div",_e,[y(r,{titleName:e.titleName,titleHref:e.titleHref},null,8,["titleName","titleHref"])]),y(v)]),y(k,{loadingStatus:e.loadingStatus},null,8,["loadingStatus"])],64)}var ke=V(ie,[["render",pe]]);export{ke as default};
