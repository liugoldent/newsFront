import{l as I,_ as B,c as R,e as p,o as l,a as f,F as C,r as T,b as i,n as x,t as k,m as S,g as v,s as O,q as U,i as q,u as E,d as g,j as M,p as G,f as b}from"./index.c85cfa26.js";import{c as J,d as K,e as P,g as Q,S as X,R as Y}from"./ScrollTopButton.59f83ecb.js";I.add(J,K);const Z={props:["newsData"],setup(u){let c=O.textColor,a=U.textColor;for(let m=0,s=2;m<s;m++)c=c.concat(c),a=a.concat(a);const e=R(()=>u.newsData),_=R(()=>{let m=[];for(let s=1,n=u.newsData.length;s<=n;s++)s<10?m.push(`0${s}`):m.push(s);return m});return{onViewData:e,listIndex:_,textColor600Array:a,textColor700Array:c}}},D={class:"flex flex-col justify-center items-center m-10"},ee={class:"flex flex-col justify-start items-start"},te={class:"flex flex-row justify-start items-end"},oe={class:"sm:flex sm:flex-col sm:items-start sm:justify-center mx-1"},se={class:"flex flex-row justify-start items-center mx-2"},ne={class:"flex flex-row justify-start items-center mx-2"},le={class:"text-4xl inline mb-2"},ie=["href"];function re(u,c,a,e,_,m){const s=p("font-awesome-icon");return l(),f("div",D,[(l(!0),f(C,null,T(e.onViewData,(n,r)=>(l(),f("div",{key:r,class:"w-4/5 m-6 h-max"},[i("div",ee,[i("div",te,[i("p",{class:x(["text-6xl inline mb-4 decoration-4 text-right underline underline-offset-4",e.textColor700Array[r]])},k(e.listIndex[r]),3),i("div",oe,[i("div",se,[n.time.length>0?(l(),S(s,{key:0,icon:"clock-rotate-left",class:x(["relative bottom-2",e.textColor600Array[r]])},null,8,["class"])):v("",!0),n.time.length>0?(l(),f("p",{key:1,class:x(["text-xl inline mx-2 relative bottom-2",e.textColor600Array[r]])},k(n.time),3)):v("",!0)]),i("div",ne,[n.time.length>0?(l(),S(s,{key:0,icon:"angles-right",class:x(["relative bottom-2",e.textColor600Array[r]])},null,8,["class"])):v("",!0),n.from.length>0?(l(),f("p",{key:1,class:x(["text-xl inline mx-2 relative bottom-2 sm:mx-4",e.textColor600Array[r]])},k(n.from),3)):v("",!0)])])]),i("h1",le,[i("a",{href:n.href},k(n.title),9,ie)]),(l(!0),f(C,null,T(n.subtitle,(y,h)=>(l(),f("p",{class:"text-xl inline my-1",key:h},k(y),1))),128))])]))),128))])}var ae=B(Z,[["render",re]]);I.add(P,Q);const ce={components:{StockNewsListVue:ae,ScrollTopButton:X,RectangleNameVue:Y},setup(){const{proxy:u}=q(),c=u.axios.get(`${u.envURL}/stockApi/sheetData/financeNews`);u.axios.get(`${u.envURL}/pttApi/pttarticlelist`);let a=E({yahooInternational:[],yahooTwStock:[],yahooHot:[],anueNews:[]});const e={yahooInternational:{name:"yahoo \u570B\u969B\u8CA1\u7D93",source:"yahoo",link:"https://tw.stock.yahoo.com/intl-markets"},yahooTwStock:{name:"yahoo \u53F0\u80A1\u76E4\u52E2",source:"yahoo",link:"https://tw.stock.yahoo.com/tw-market"},yahooHot:{name:"yahoo \u71B1\u9580\u6587\u7AE0",source:"yahoo",link:"https://tw.stock.yahoo.com/news/"},anueNews:{name:"\u9245\u4EA8 - \u6700\u65B0\u65B0\u805E",source:"\u9245\u4EA8\u7DB2",link:"https://news.cnyes.com/news/cat/all"}};let _=g(!0);M(async()=>{_.value=!0,await m(),j("yahooInternational"),_.value=!1});const m=async function(){const t=await c,w=Object.keys(a),{data:N}=t;for(let o=0,V=w.length;o<V;o++)a[w[o]]=s(N[w[o]],w[o])},s=function(t,w){let N=[];for(let o=0,V=t.title.length;o<V;o++){const A=t.from[o]||"",L=t.time[o].replace("t-","")||"";if(w==="anueNews"){const F=`${L}${A}`,$="https://news.cnyes.com/news/id/",z=t.href[o].match(/\d+/g).join();t.title[o]=t.title[o].replace(F,""),t.href[o]=`${$}${z}`}N.push({title:t.title[o],href:t.href[o],subtitle:n(t.subtitle[o]),time:L,from:A,webName:e[w].name,source:e[w].source})}return N},n=function(t){return t!==void 0?t.split("\u3002"):[]};let r=g(""),y=g(""),h=g(""),d=g([]);const j=function(t){h.value=t,r.value=e[t].name,y.value=e[t].link,d.value=a[t]};let H=g(window.innerWidth<1200);const W=G("rectangleColor");return{financeNewsSheetData:a,selectNewsName:j,titleName:r,titleHref:y,webType:e,newsListInChild:d,thisTimeSelectKey:h,toggleNewsWeb:H,loadingStatus:_,rectangleColor:W}}},me={class:"flex flex-col justify-start items-center w-full"},fe={class:"flex flex-col items-end"},ue=["onClick"],de={class:"fixed left-2 sm:visible md:visible invisible"};function we(u,c,a,e,_,m){const s=p("font-awesome-icon"),n=p("StockNewsListVue"),r=p("RectangleNameVue"),y=p("ScrollTopButton"),h=p("loading-view");return l(),f(C,null,[i("div",me,[i("div",{class:x(["flex flex-row justify-end items-center fixed right-0 m-4 bg-slate-300 z-10 rounded opacity-90 w-52 duration-500",{"translate-x-44":e.toggleNewsWeb}])},[e.loadingStatus?v("",!0):(l(),S(s,{key:0,icon:"circle-arrow-left",class:x(["text-2xl mr-1 cursor-pointer",{"rotate-180 ":!e.toggleNewsWeb}]),onClick:c[0]||(c[0]=d=>e.toggleNewsWeb=!e.toggleNewsWeb)},null,8,["class"])),i("div",fe,[(l(!0),f(C,null,T(Object.keys(e.webType),d=>(l(),f("button",{onClick:j=>e.selectNewsName(d),key:d,class:"m-2"},[d===e.thisTimeSelectKey?(l(),S(s,{key:0,icon:"newspaper",class:"mx-3"})):v("",!0),i("p",{class:x(["inline",{"underline underline-offset-4":d===e.thisTimeSelectKey}])},k(e.webType[d].name),3)],8,ue))),128))])],2),b(n,{newsData:e.newsListInChild},null,8,["newsData"]),i("div",de,[b(r,{titleName:e.titleName,titleHref:e.titleHref},null,8,["titleName","titleHref"])]),b(y)]),b(h,{loadingStatus:e.loadingStatus},null,8,["loadingStatus"])],64)}var ye=B(ce,[["render",we]]);export{ye as default};
